/**
 * Generated by `js1 upgrade www-shared`.
 * @generated SignedSource<<9b6b5b78ea738aa2fb40c746689595f3>>
 *
 * Copyright 2004-present Facebook. All Rights Reserved.
 *
 * @format
 */

'use strict';

const isNode = value => typeof value === 'object' && value != null;

/**
 * Checks whether needle is a strict subset of haystack.
 *
 * @param {*} haystack Value to test.
 * @param {*} needle Test function or value to look for in `haystack`.
 * @return {bool}
 */
function match(haystack, needle) {
  if (typeof needle === 'function') {
    return needle(haystack);
  }
  if (isNode(needle) && isNode(haystack)) {
    return Object.keys(needle).every(function(property) {
      return (
        Object.prototype.hasOwnProperty.call(haystack, property) &&
        match(haystack[property], needle[property])
      );
    });
  }
  return haystack === needle;
}

module.exports = match;
