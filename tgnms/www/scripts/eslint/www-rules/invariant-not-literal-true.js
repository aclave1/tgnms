/**
 * Generated by `js1 upgrade www-shared`.
 * @generated SignedSource<<e9158d10f2f64996bdd802331e5605ef>>
 *
* Copyright 2004-present Facebook. All Rights Reserved.
*
* This rule help to discourage usage of invariant(true, ...).
*/

'use strict';

module.exports = function rule(context) {
  return {
    CallExpression: function(node) {
      const firstArg = node.arguments[0];
      if (
        node.callee &&
        node.callee.name === 'invariant' &&
        firstArg &&
        firstArg.type === 'Literal' &&
        firstArg.value
      ) {
        context.report(
          node,
          'Passing literal truthy value in the first argument will always ' +
            'bypass invariant codes and not throw any errors'
        );
      }
    },
  };
};
